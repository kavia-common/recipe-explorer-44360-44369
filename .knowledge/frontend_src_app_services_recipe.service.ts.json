{"is_source_file": true, "format": "TypeScript", "description": "This file defines an Angular service 'RecipeService' that provides methods to fetch and search recipes, either from a backend API or a mock dataset. It includes in-memory recipe data, methods for retrieving all recipes, a specific recipe by ID, and search functionality based on query strings.", "external_files": ["../models/recipe.model", "../core/env", "@angular/core", "@angular/common/http", "rxjs"], "external_methods": ["inject", "HttpClient.get", "of", "delay", "map", "switchMap"], "published": ["getRecipes", "getRecipeById", "searchRecipes"], "classes": [{"name": "RecipeService", "description": "Angular service responsible for managing recipe data, providing methods to retrieve and search recipes from either an API or a mock dataset."}], "methods": [{"name": "getRecipes", "description": "Fetches all recipes, either from the API endpoint or returns the mock dataset with a slight delay to simulate network latency."}, {"name": "getRecipeById", "description": "Retrieves a single recipe by its ID from either the API or the mock data."}, {"name": "searchRecipes", "description": "Performs a search for recipes by name or ingredients. Uses API if available, otherwise filters the mock dataset locally."}], "calls": ["inject(HttpClient)", "this.http.get<Recipe[]>(`${API_BASE}/recipes`)", "this.http.get<Recipe>(`${API_BASE}/recipes/${id}`)", "this.http.get<Recipe[]>(`${API_BASE}/recipes`, { params: { q } })", "this.getRecipes()"], "search-terms": ["Angular RecipeService", "mockRecipes", "searchRecipes", "getRecipes", "getRecipeById", "API_BASE", "HttpClient"], "state": 2, "file_id": 23, "knowledge_revision": 47, "git_revision": "", "ctags": [{"_type": "tag", "name": "RecipeService", "path": "/home/kavia/workspace/code-generation/recipe-explorer-44360-44369/frontend/src/app/services/recipe.service.ts", "pattern": "/^export class RecipeService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "http", "path": "/home/kavia/workspace/code-generation/recipe-explorer-44360-44369/frontend/src/app/services/recipe.service.ts", "pattern": "/^  private http = inject(HttpClient);$/", "language": "TypeScript", "kind": "property", "scope": "RecipeService", "scopeKind": "class"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/recipe-explorer-44360-44369/frontend/src/app/services/recipe.service.ts", "pattern": "/^    const q = query.trim().toLowerCase();$/", "language": "TypeScript", "kind": "constant"}], "hash": "fb40e60e38cfa31fb4260a15e018b034", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/app/services/recipe.service.ts", "fields": [{"name": "private http = inject(HttpClient);", "scope": "RecipeService", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"47": ""}]}