{"is_source_file": true, "format": "TypeScript", "description": "This file sets up an Express server for an Angular Universal (server-side rendering) application. It serves static files from the browser build directory and handles all other requests by rendering the Angular app on the server. It also includes logic to start the server if run as the main module.", "external_files": ["@angular/common", "@angular/ssr/node", "express", "node:path", "node:url", "./main.server"], "external_methods": ["isMainModule"], "published": ["app"], "classes": [], "methods": [{"name": "render", "description": "Method called on CommonEngine instance to perform server-side rendering of the Angular application."}], "calls": ["express()", "dirname(fileURLToPath(import.meta.url))", "resolve(serverDistFolder, '../browser')", "join(serverDistFolder, 'index.server.html')", "app.get", "express.static", "commonEngine.render", "next(err)", "app.listen"], "search-terms": ["Angular SSR", "express static", "CommonEngine", "isMainModule", "server setup", "Angular Universal", "server-side rendering", "main.server"], "state": 2, "file_id": 18, "knowledge_revision": 40, "git_revision": "70c6a23579577bc7e7ab62b90963147219730f68", "ctags": [{"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/recipe-explorer-44360-44369/frontend/src/server.ts", "pattern": "/^const app = express();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "baseUrl", "path": "/home/kavia/workspace/code-generation/recipe-explorer-44360-44369/frontend/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "browserDistFolder", "path": "/home/kavia/workspace/code-generation/recipe-explorer-44360-44369/frontend/src/server.ts", "pattern": "/^const browserDistFolder = resolve(serverDistFolder, '..\\/browser');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "commonEngine", "path": "/home/kavia/workspace/code-generation/recipe-explorer-44360-44369/frontend/src/server.ts", "pattern": "/^const commonEngine = new CommonEngine();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/recipe-explorer-44360-44369/frontend/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "indexHtml", "path": "/home/kavia/workspace/code-generation/recipe-explorer-44360-44369/frontend/src/server.ts", "pattern": "/^const indexHtml = join(serverDistFolder, 'index.server.html');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "originalUrl", "path": "/home/kavia/workspace/code-generation/recipe-explorer-44360-44369/frontend/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "port", "path": "/home/kavia/workspace/code-generation/recipe-explorer-44360-44369/frontend/src/server.ts", "pattern": "/^  const port = process.env['PORT'] || 4000;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "protocol", "path": "/home/kavia/workspace/code-generation/recipe-explorer-44360-44369/frontend/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "serverDistFolder", "path": "/home/kavia/workspace/code-generation/recipe-explorer-44360-44369/frontend/src/server.ts", "pattern": "/^const serverDistFolder = dirname(fileURLToPath(import.meta.url));$/", "language": "TypeScript", "kind": "constant"}], "hash": "2b01cdd40bb909f26c1bcd609dfb8a51", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/server.ts", "revision_history": [{"40": "70c6a23579577bc7e7ab62b90963147219730f68"}]}